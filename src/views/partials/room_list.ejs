<div class="row">
  <% if (rooms.length === 0) { %>
  <p>KhÃ´ng tÃ¬m tháº¥y phÃ²ng phÃ¹ há»£p.</p>
  <% } %> <% rooms.forEach(room => { %>
  <div class="col-md-6 col-lg-4 mb-4">
    <div
      class="card h-100 d-flex flex-column shadow-sm border-0"
      style="transition: 0.3s"
    >
      <img
        src="<%= room.thumbnail %>"
        class="card-img-top"
        alt="<%= room.name %>"
        style="height: 180px; object-fit: cover"
      />

      <div class="card-body d-flex flex-column">
        <h5 class="card-title mb-2 fw-semibold"><%= room.name %></h5>

        <% if (room.price < 500000) { %>
        <span
          class="badge rounded-pill mb-1 px-3 py-1 text-white"
          style="background-color: #28a745"
          >ğŸŒ¼ Tiáº¿t kiá»‡m</span
        >
        <% } %> <% if (room.avg_rating && room.avg_rating >= 4.5) { %>
        <span
          class="badge rounded-pill mb-2 px-3 py-1 text-white"
          style="background-color: #dc3545"
          >ğŸ”¥ YÃªu thÃ­ch</span
        >
        <% } %> <% if (room.avg_rating) { %>
        <p class="text-warning mb-2">
          â­ <%= room.avg_rating %>/5
          <span class="text-muted">(<%= room.review_count %> Ä‘Ã¡nh giÃ¡)</span>
        </p>
        <% } %>

        <!-- Bá» PHáº¦N THÃ”NG BÃO "CÃ“ Sáº´N SAU" -->

        <p class="card-text flex-grow-1" style="font-size: 0.95rem">
          <strong>MÃ´ táº£:</strong>
          <% if (room.description?.toLowerCase().includes("nhÃ  nguyÃªn cÄƒn")) {
          %> NhÃ  nguyÃªn cÄƒn <% } else if
          (room.description?.toLowerCase().includes("phÃ²ng riÃªng trong cÄƒn há»™"))
          { %> PhÃ²ng riÃªng trong cÄƒn há»™ <% } else { %> KhÃ´ng xÃ¡c Ä‘á»‹nh <% } %>
          <br />

          <strong>GiÃ¡:</strong>
          <!-- Äá»”I MÃ€U GIÃ THÃ€NH Äá» -->
          <span
            class="price-tag"
            style="color: #e74c3c; font-weight: bold; font-size: 1.1rem"
          >
            <%= Number(room.price).toLocaleString('vi-VN', { style: 'currency',
            currency: 'VND' }) %>
          </span>
          <small class="text-muted"> / Ä‘Ãªm</small><br />

          <strong>Äá»‹a chá»‰:</strong> <%= room.address %><br />

          <strong>Dá»‹ch vá»¥:</strong>
          <% if (room.services?.length) { %> <% room.services.forEach(service =>
          { %>
          <span class="service-badge d-inline-block"><%= service %></span>
          <% }) %> <% } else { %>
          <span class="text-muted">KhÃ´ng cÃ³</span>
          <% } %>
        </p>

        <a
          href="/room/<%= room.slug %>"
          class="btn mt-auto px-3 py-2 fw-semibold"
          style="
            background-color: #a59a81;
            color: white;
            border-radius: 30px;
            transition: 0.2s;
          "
        >
          Xem chi tiáº¿t
        </a>
      </div>
    </div>
  </div>
  <% }) %>
</div>
